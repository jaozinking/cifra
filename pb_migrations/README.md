# PocketBase Collections Migration

## Автоматическое создание коллекций

Коллекции создаются **автоматически** при первом запуске PocketBase через JavaScript миграцию!

### Как это работает

1. Запустите PocketBase: `./pocketbase serve`
2. Миграция `1734900000_create_cifra_collections.js` автоматически выполнится при старте
3. Все коллекции будут созданы автоматически
4. **Админ-панель НЕ обязательна** для создания коллекций

### Что создается автоматически

- **users** (auth) - пользователи с профилями
- **products** (base) - цифровые товары  
- **sales** (base) - история продаж
- **promos** (base) - промокоды
- **payouts** (base) - выплаты

### Альтернативный способ (через админ-панель)

Если по какой-то причине миграция не сработала, можно создать коллекции вручную:

1. Откройте админ-панель: http://127.0.0.1:8090/_/
2. Создайте суперпользователя (если еще не создан)
3. Перейдите в Collections и создайте каждую коллекцию согласно схеме в `create_collections.js`

### Проверка миграции

После запуска PocketBase проверьте логи - должна быть строка о выполнении миграции.
Также можно проверить в админ-панели, что все коллекции созданы.

### Откат миграции

Миграция поддерживает откат (rollback). Если нужно удалить все коллекции, можно запустить откат миграции.

